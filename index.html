<!DOCTYPE html>
<html lang="JP">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Today Timer</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

  <!-- cssの参照 -->
  <link rel="stylesheet" href="style.css">
  
</head>
<body>
  <header>
    <h1>Today</h1>
  </header>

  <div class="container">
    <script>
     
     // インスタンス化
     var today = new Date();
     var todayHtml = today.getFullYear() + '/' + (today.getMonth()+1) + '/' +  today.getDate();

     document.write('<p class = "date">' + todayHtml + '</p>');
    </script>

    <div class="tic">
      <h4>Timer</h4>
      <p id="timer">00:00:00</p>
     
      <div>
        <button id="start_stop" class="btn btn-lg btn-primary">START</button>
      </div>
    </div>
  </div>

  
  <script>
    var start;
    var timer_id
       document.getElementById('start_stop').addEventListener('click', function() {
         if(this.innerHTML === 'START'){
          start = new Date();
          timer_id = setInterval(goTimer, 1000);

          //  STOPボタンにする
          this.innerHTML = 'STOP'
          this.classList.remove('btn-primary');
          this.classList.add('btn-danger');

         }else{
           clearInterval(timer_id);
          //  STARTボタンに戻す
          this.innerHTML = 'START'
          this.classList.remove('btn-danger');
          this.classList.add('btn-primary');
         }
       });   

       var addZero = function(value){
         if(value < 10){
           value = '0' + value;
         }
         return value
       }
  
       var goTimer = function() {
         var now = new Date();
         var milli = now.getTime() - start.getTime();
         var seconds = Math.floor(milli / 1000);
         var minutes = Math.floor(seconds / 60);
         var hours = Math.floor(minutes / 60);

         seconds -= minutes * 60;
         minutes -= hours * 60;

         hours = addZero(hours);
         minutes = addZero(minutes);
         seconds = addZero(seconds);
         
         document.getElementById('timer').innerHTML = hours + ':' + minutes + ':' + seconds;
       }

  </script>

</body>
</html>